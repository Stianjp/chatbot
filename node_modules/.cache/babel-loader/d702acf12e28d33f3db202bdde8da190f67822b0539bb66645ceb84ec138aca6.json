{"ast":null,"code":"const apiBaseUrl=process.env.NODE_ENV==='production'?process.env.REACT_APP_API_BASE_URL_PRODUCTION:process.env.REACT_APP_API_BASE_URL_DEVELOPMENT;export const askChatbot=async function(conversationMessages){let systemPrompt=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";try{const response=await fetch(\"\".concat(apiBaseUrl,\"/api/chat\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({conversationMessages,systemPrompt})});const textResponse=await response.text();console.log(\"üîç Server response:\",textResponse);const data=JSON.parse(textResponse);return data.response;}catch(error){console.error(\"‚ùå Feil ved API-kall:\",error);return\"Beklager, det oppstod en feil.\";}};","map":{"version":3,"names":["apiBaseUrl","process","env","NODE_ENV","REACT_APP_API_BASE_URL_PRODUCTION","REACT_APP_API_BASE_URL_DEVELOPMENT","askChatbot","conversationMessages","systemPrompt","arguments","length","undefined","response","fetch","concat","method","headers","body","JSON","stringify","textResponse","text","console","log","data","parse","error"],"sources":["/Users/stianjohanpettersen/Library/CloudStorage/OneDrive-OsloMet/Dataingeni√∏r - bachelor/3.aÃäret/Bachelor/chatbot/src/utils/langchainChatbot.js"],"sourcesContent":["const apiBaseUrl = process.env.NODE_ENV === 'production'\n  ? process.env.REACT_APP_API_BASE_URL_PRODUCTION\n  : process.env.REACT_APP_API_BASE_URL_DEVELOPMENT;\n\nexport const askChatbot = async (conversationMessages, systemPrompt = \"\") => {\n  try {\n    const response = await fetch(`${apiBaseUrl}/api/chat`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ conversationMessages, systemPrompt }),\n    });\n\n    const textResponse = await response.text();\n    console.log(\"üîç Server response:\", textResponse);\n\n    const data = JSON.parse(textResponse);\n    return data.response; \n  } catch (error) {\n    console.error(\"‚ùå Feil ved API-kall:\", error);\n    return \"Beklager, det oppstod en feil.\";\n  }\n};"],"mappings":"AAAA,KAAM,CAAAA,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CACpDF,OAAO,CAACC,GAAG,CAACE,iCAAiC,CAC7CH,OAAO,CAACC,GAAG,CAACG,kCAAkC,CAElD,MAAO,MAAM,CAAAC,UAAU,CAAG,cAAAA,CAAOC,oBAAoB,CAAwB,IAAtB,CAAAC,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACtE,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAId,UAAU,cAAa,CACrDe,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEZ,oBAAoB,CAAEC,YAAa,CAAC,CAC7D,CAAC,CAAC,CAEF,KAAM,CAAAY,YAAY,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAC1CC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEH,YAAY,CAAC,CAEhD,KAAM,CAAAI,IAAI,CAAGN,IAAI,CAACO,KAAK,CAACL,YAAY,CAAC,CACrC,MAAO,CAAAI,IAAI,CAACZ,QAAQ,CACtB,CAAE,MAAOc,KAAK,CAAE,CACdJ,OAAO,CAACI,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C,MAAO,gCAAgC,CACzC,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}